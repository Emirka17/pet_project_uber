markdown
# Kafka Topics

## –û–±–∑–æ—Ä

Apache Kafka –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ –º–µ–∂–¥—É –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º–∏.

---

## –ß—Ç–æ —Ç–∞–∫–æ–µ Kafka (–ø—Ä–æ—Å—Ç—ã–º–∏ —Å–ª–æ–≤–∞–º–∏)

**Kafka** ‚Äî —ç—Ç–æ –ø–æ—á—Ç–æ–≤–∞—è —Å–ª—É–∂–±–∞ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤.

Ride Service Notification Service
‚îÇ ‚ñ≤
‚îÇ "–ü–æ–µ–∑–¥–∫–∞ —Å–æ–∑–¥–∞–Ω–∞" ‚îÇ
‚îÇ ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ KAFKA ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
(–ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫)

yaml

**–ë–µ–∑ Kafka:**
- Ride Service –Ω–∞–ø—Ä—è–º—É—é –≤—ã–∑—ã–≤–∞–µ—Ç Notification Service
- –ï—Å–ª–∏ Notification Service —É–ø–∞–ª ‚Äî Ride Service –∂–¥—ë—Ç –∏–ª–∏ –ø–∞–¥–∞–µ—Ç —Ç–æ–∂–µ

**–° Kafka:**
- Ride Service –∫–ª–∞–¥—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Kafka –∏ –∏–¥—ë—Ç –¥–∞–ª—å—à–µ
- Notification Service –∑–∞–±–µ—Ä—ë—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–≥–¥–∞ —Å–º–æ–∂–µ—Ç
- –ï—Å–ª–∏ —É–ø–∞–ª ‚Äî —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–¥–æ–∂–¥—ë—Ç –≤ Kafka

---

## –¢–µ—Ä–º–∏–Ω—ã

| –¢–µ—Ä–º–∏–Ω | –ß—Ç–æ —ç—Ç–æ | –ê–Ω–∞–ª–æ–≥–∏—è |
|--------|---------|----------|
| **Topic** | –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π | –ü–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–π —Ç–µ–º—ã |
| **Producer** | –ö—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è | –û—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å –ø–∏—Å—å–º–∞ |
| **Consumer** | –ö—Ç–æ —á–∏—Ç–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è | –ü–æ–ª—É—á–∞—Ç–µ–ª—å –ø–∏—Å—å–º–∞ |
| **Message** | –°–∞–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ | –ü–∏—Å—å–º–æ |
| **Partition** | –†–∞–∑–¥–µ–ª —Ç–æ–ø–∏–∫–∞ | –û—Ç–¥–µ–ª–µ–Ω–∏–µ –ø–æ—á—Ç–æ–≤–æ–≥–æ —è—â–∏–∫–∞ |
| **Offset** | –ù–æ–º–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è | –ù–æ–º–µ—Ä –ø–∏—Å—å–º–∞ |

---

## –°–ø–∏—Å–æ–∫ —Ç–æ–ø–∏–∫–æ–≤

### –¢–æ–ø–∏–∫–∏ –ø–æ–µ–∑–¥–æ–∫ (rides)

| –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `rides.created` | –ù–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞ —Å–æ–∑–¥–∞–Ω–∞ |
| `rides.assigned` | –í–æ–¥–∏—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω |
| `rides.started` | –ü–æ–µ–∑–¥–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å |
| `rides.completed` | –ü–æ–µ–∑–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ |
| `rides.cancelled` | –ü–æ–µ–∑–¥–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞ |

### –¢–æ–ø–∏–∫–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π (drivers)

| –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `drivers.online` | –í–æ–¥–∏—Ç–µ–ª—å –≤—ã—à–µ–ª –Ω–∞ –ª–∏–Ω–∏—é |
| `drivers.offline` | –í–æ–¥–∏—Ç–µ–ª—å —É—à—ë–ª —Å –ª–∏–Ω–∏–∏ |
| `drivers.location` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤–æ–¥–∏—Ç–µ–ª—è |

### –¢–æ–ø–∏–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π (payments)

| –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `payments.pending` | –ü–ª–∞—Ç—ë–∂ –æ–∂–∏–¥–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ |
| `payments.completed` | –ü–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–µ–Ω |
| `payments.failed` | –ü–ª–∞—Ç—ë–∂ –Ω–µ –ø—Ä–æ—à—ë–ª |

### –¢–æ–ø–∏–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (notifications)

| –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `notifications.push` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ |
| `notifications.sms` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å SMS |
| `notifications.email` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å email |

### –¢–æ–ø–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ (analytics)

| –¢–æ–ø–∏–∫ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|
| `analytics.events` | –í—Å–µ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ |

---

## –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–ø–∏–∫–æ–≤

### rides.created

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–∞—Å—Å–∞–∂–∏—Ä —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é –ø–æ–µ–∑–¥–∫—É.

**Producer:** Ride Service

**Consumers:**
- Matching Service ‚Äî –∏—â–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è
- Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ

**–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:**

```json
{
  "event_id": "evt_123456",
  "event_type": "ride.created",
  "timestamp": "2024-01-15T14:30:00Z",
  "data": {
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "pickup": {
      "latitude": 40.7128,
      "longitude": -74.0060,
      "address": "123 Main St, New York"
    },
    "dropoff": {
      "latitude": 40.7580,
      "longitude": -73.9855,
      "address": "456 Broadway, New York"
    },
    "passenger_count": 2,
    "estimated_fare": 25.50
  }
}
rides.assigned
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–æ–¥–∏—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–µ–Ω –Ω–∞ –ø–æ–µ–∑–¥–∫—É.

Producer: Matching Service

Consumers:

Notification Service ‚Äî —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–∞ –∏ –≤–æ–¥–∏—Ç–µ–ª—è
Ride Service ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –ø–æ–µ–∑–¥–∫–∏
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123457",
  "event_type": "ride.assigned",
  "timestamp": "2024-01-15T14:30:15Z",
  "data": {
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "driver_id": "driver_def456",
    "driver": {
      "name": "–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤",
      "phone": "+1234567890",
      "car_model": "Toyota Camry",
      "car_plate": "ABC-1234",
      "car_color": "–±–µ–ª—ã–π",
      "rating": 4.85
    },
    "eta_minutes": 5
  }
}
rides.started
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–µ–∑–¥–∫–∞ –Ω–∞—á–∞–ª–∞—Å—å (–ø–∞—Å—Å–∞–∂–∏—Ä —Å–µ–ª –≤ –º–∞—à–∏–Ω—É).

Producer: Ride Service (–ø–æ —Å–∏–≥–Ω–∞–ª—É –æ—Ç –≤–æ–¥–∏—Ç–µ–ª—è)

Consumers:

Notification Service ‚Äî —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø–∞—Å—Å–∞–∂–∏—Ä–∞
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123458",
  "event_type": "ride.started",
  "timestamp": "2024-01-15T14:35:00Z",
  "data": {
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "driver_id": "driver_def456",
    "started_at": "2024-01-15T14:35:00Z",
    "pickup_location": {
      "latitude": 40.7128,
      "longitude": -74.0060
    }
  }
}
rides.completed
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–µ–∑–¥–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞.

Producer: Ride Service

Consumers:

Payment Service ‚Äî —Å–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–Ω—å–≥–∏
Notification Service ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ–∫
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123459",
  "event_type": "ride.completed",
  "timestamp": "2024-01-15T14:55:00Z",
  "data": {
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "driver_id": "driver_def456",
    "started_at": "2024-01-15T14:35:00Z",
    "completed_at": "2024-01-15T14:55:00Z",
    "duration_minutes": 20,
    "distance_km": 8.5,
    "fare": {
      "base_fare": 2.55,
      "distance_fare": 14.88,
      "time_fare": 7.00,
      "total": 24.43
    }
  }
}
rides.cancelled
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–æ–µ–∑–¥–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞.

Producer: Ride Service

Consumers:

Notification Service ‚Äî —É–≤–µ–¥–æ–º–ª—è–µ—Ç –≤–æ–¥–∏—Ç–µ–ª—è/–ø–∞—Å—Å–∞–∂–∏—Ä–∞
Payment Service ‚Äî –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123460",
  "event_type": "ride.cancelled",
  "timestamp": "2024-01-15T14:32:00Z",
  "data": {
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "driver_id": "driver_def456",
    "cancelled_by": "user",
    "reason": "–ü–µ—Ä–µ–¥—É–º–∞–ª",
    "cancellation_fee": 5.00
  }
}
drivers.online
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–æ–¥–∏—Ç–µ–ª—å –≤—ã—Ö–æ–¥–∏—Ç –Ω–∞ –ª–∏–Ω–∏—é.

Producer: Driver Service

Consumers:

Geo Service ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –≥–µ–æ-–∏–Ω–¥–µ–∫—Å
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123461",
  "event_type": "driver.online",
  "timestamp": "2024-01-15T08:00:00Z",
  "data": {
    "driver_id": "driver_def456",
    "location": {
      "latitude": 40.7128,
      "longitude": -74.0060
    }
  }
}
drivers.offline
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –≤–æ–¥–∏—Ç–µ–ª—å —É—Ö–æ–¥–∏—Ç —Å –ª–∏–Ω–∏–∏.

Producer: Driver Service

Consumers:

Geo Service ‚Äî —É–¥–∞–ª—è–µ—Ç –∏–∑ –≥–µ–æ-–∏–Ω–¥–µ–∫—Å–∞
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123462",
  "event_type": "driver.offline",
  "timestamp": "2024-01-15T18:00:00Z",
  "data": {
    "driver_id": "driver_def456",
    "online_duration_hours": 10,
    "rides_completed": 15,
    "earnings": 285.50
  }
}
drivers.location
–û–ø–∏—Å–∞–Ω–∏–µ: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤–æ–¥–∏—Ç–µ–ª—è (–∫–∞–∂–¥—ã–µ 5-10 —Å–µ–∫—É–Ω–¥).

Producer: Driver Service (–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤–æ–¥–∏—Ç–µ–ª—è)

Consumers:

Geo Service ‚Äî –æ–±–Ω–æ–≤–ª—è–µ—Ç –≥–µ–æ-–∏–Ω–¥–µ–∫—Å –≤ Redis
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "driver_id": "driver_def456",
  "latitude": 40.7135,
  "longitude": -74.0055,
  "timestamp": "2024-01-15T14:30:05Z",
  "speed_kmh": 35,
  "heading": 90
}
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–í—ã—Å–æ–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞ (–º–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π)
–ù–µ —Ç—Ä–µ–±—É–µ—Ç –≥–∞—Ä–∞–Ω—Ç–∏–∏ –¥–æ—Å—Ç–∞–≤–∫–∏ (–ø–æ—Ç–µ—Ä—è –æ–¥–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞)
–ö–æ—Ä–æ—Ç–∫–∏–π retention (—Ö—Ä–∞–Ω–∏—Ç—å 1 —á–∞—Å)
payments.completed
–û–ø–∏—Å–∞–Ω–∏–µ: –ü—É–±–ª–∏–∫—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –ø–ª–∞—Ç—ë–∂ —É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω.

Producer: Payment Service

Consumers:

Notification Service ‚Äî –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —á–µ–∫
Analytics Service ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ
–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123463",
  "event_type": "payment.completed",
  "timestamp": "2024-01-15T14:55:30Z",
  "data": {
    "payment_id": "pay_abc123",
    "ride_id": "ride_abc123",
    "user_id": "user_xyz789",
    "amount": 24.43,
    "method": "card",
    "card_last4": "4242",
    "transaction_id": "txn_stripe_123"
  }
}
notifications.push
–û–ø–∏—Å–∞–Ω–∏–µ: –ö–æ–º–∞–Ω–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ.

Producers: –†–∞–∑–ª–∏—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã

Consumer: Notification Service

–§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:

json
{
  "event_id": "evt_123464",
  "event_type": "notification.push",
  "timestamp": "2024-01-15T14:30:15Z",
  "data": {
    "user_id": "user_xyz789",
    "title": "–í–æ–¥–∏—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω",
    "body": "–ò–≤–∞–Ω –Ω–∞ Toyota Camry –±—É–¥–µ—Ç —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç",
    "data": {
      "ride_id": "ride_abc123",
      "screen": "ride_tracking"
    }
  }
}
–ü–æ—Ç–æ–∫ —Å–æ–±—ã—Ç–∏–π: –∑–∞–∫–∞–∑ –ø–æ–µ–∑–¥–∫–∏
perl
–ü–∞—Å—Å–∞–∂–∏—Ä –Ω–∞–∂–∏–º–∞–µ—Ç "–ó–∞–∫–∞–∑–∞—Ç—å"
              ‚îÇ
              ‚ñº
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇRide Service ‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
              ‚îÇ –ø—É–±–ª–∏–∫—É–µ—Ç
              ‚ñº
       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
       ‚îÇ   Kafka     ‚îÇ
       ‚îÇrides.created‚îÇ
       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
              ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚îÇ               ‚îÇ
      ‚ñº               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Matching  ‚îÇ  ‚îÇ  Analytics  ‚îÇ
‚îÇ  Service  ‚îÇ  ‚îÇ   Service   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ
      ‚îÇ –Ω–∞—Ö–æ–¥–∏—Ç –≤–æ–¥–∏—Ç–µ–ª—è
      ‚îÇ –ø—É–±–ª–∏–∫—É–µ—Ç
      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Kafka     ‚îÇ
‚îÇrides.assigned
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚îÇ
   ‚îå‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
   ‚îÇ       ‚îÇ            ‚îÇ
   ‚ñº       ‚ñº            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Ride ‚îÇ ‚îÇNotif.‚îÇ ‚îÇ Analytics ‚îÇ
‚îÇService‚îÇ ‚îÇService‚îÇ ‚îÇ  Service  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
   ‚îÇ        ‚îÇ
   ‚îÇ        ‚îÇ push –ø–∞—Å—Å–∞–∂–∏—Ä—É
   ‚îÇ        ‚îÇ push –≤–æ–¥–∏—Ç–µ–ª—é
   ‚îÇ        ‚ñº
   ‚îÇ    üì± "–í–æ–¥–∏—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω!"
   ‚îÇ
   ‚îÇ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –≤ –ë–î
   ‚ñº
PostgreSQL: rides.status = 'assigned'